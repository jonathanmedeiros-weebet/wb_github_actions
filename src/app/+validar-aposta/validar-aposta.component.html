<section id="validar-aposta-section">
    <h2>Validar Aposta</h2>
    <div class="row">
        <div class="col-xs-12 col-md-4">
            <form (ngSubmit)="consultarAposta()" #form="ngForm" class="consulta-form">
                <div class="form-group">
                    <input type="text" [(ngModel)]="codigo" name="codigo" class="form-control" placeholder="Código" required>
                </div>
                <button type="submit" [disabled]="!form.valid" class="btn btn-primary">Consultar</button>
            </form>
        </div>
    </div>
    <div class="row" *ngIf="preAposta">
        <div class="col-xs-12 col-md-4">
            <div class="pre-aposta">
                <h4>#{{preAposta.id}}</h4>
                <div *ngFor="let item of preAposta.itens" class="pre-aposta-item">
                    <p>{{item.jogo.campeonato.nome}}</p>
                    <p>
                        {{item.jogo.nome}}
                    </p>
                    <p>
                        <b>{{item.aposta_tipo.nome}}:</b> {{item.cotacao | number: '1.0-2'}}
                    </p>
                </div>
                <div>
                    <p>Apostador: {{preAposta.apostador}}</p>
                    <p>
                        Horário: {{preAposta.horario | moment: 'DD/MM/YYYY HH:mm'}}
                    </p>
                </div>
                <div>
                    <p>
                        Total de jogos: {{preAposta.itens.length}}
                    </p>
                    <p>
                        Valor da Aposta: {{preAposta.valor | currency: 'BRL':'symbol':'1.2'}}
                    </p>
                    <p>
                        Estimativa de ganho: {{preAposta.premio | currency: 'BRL':'symbol':'1.2'}}
                    </p>
                </div>
                <button type="button" (click)="validarAposta()" class="btn btn-primary">Validar</button>
            </div>
        </div>
    </div>
</section>

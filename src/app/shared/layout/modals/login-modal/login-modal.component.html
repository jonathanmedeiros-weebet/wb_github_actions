<div class="modal-header">
    <a type="button" class="btn-close" aria-label="Close" (click)="toClose()">
        <i class="fa fa-times"></i>
    </a>
</div>

<div class="modal-body" [ngStyle]="{'padding-top': loginGoogle ? '10px' : '0px'}">
    <div *ngIf="isVPN; else normalView">
        <p style="margin-bottom: 30px">
            {{ 'geral.vpn' | translate }}
        </p>
    </div>

    <ng-template #normalView>
        <div class="modal-body-content" *ngIf="!isOpening">
            <form [formGroup]="form" class="form-login" (ngSubmit)="onSubmit()" novalidate>
                <span class="space-buttons" *ngIf="loginGoogle">{{'geral.loginGoogle' | translate}}</span>
                <asl-google-signin-button type='standard' size='large' text='signin_with' logo_alignment='center' *ngIf="loginGoogle"></asl-google-signin-button>
                <div class="text-line" *ngIf="loginGoogle">
                    <span>OU</span>
                </div>
                <div  *ngIf="modoClienteHabilitado">
                    <div>
                        <div class="label-doLogin">
                           <span>
                            Fa√ßa login para acessar suas apostas e jogos favoritos!
                           </span>
                        </div>
                        <span class="label-kindLogin">
                            {{ 'geral.kindLogin' |translate }}
                        </span>
                        <div class="login-mode">
                        <label *ngIf="modoClienteHabilitado">
                            <input type="radio" formControlName="loginMode" value="phone" (change)="setLoginMode('phone')">
                            <span class="radio-custom"></span>
                            <span class="label-login">
                                {{ 'geral.loginPhone' | translate }}
                            </span>
                        </label>
                        <label *ngIf="modoClienteHabilitado">
                            <input type="radio" formControlName="loginMode" value="email" (change)="setLoginMode('email')">
                            <span class="radio-custom"></span>
                            <span class="label-login">
                                {{ 'geral.loginEmail' | translate }}
                            </span>
                        </label>
                        <label *ngIf="modoCambistaHabilitado">
                            <input type="radio" formControlName="loginMode" value="agent" (change)="setLoginMode('agent')">
                            <span class="radio-custom"></span>
                            <span class="label-login">
                                {{ 'geral.loginUsername' | translate }}
                            </span>
                
                        </label>
                        </div>
                    </div>
                </div>

                <div class="form-group mb-4">
                     <div class="input-md" >
                        <div class="input-prefix" *ngIf="form.get('loginMode').value == 'phone'">+55 | </div>
                         <input type="text" id="username" class="form-control inverted-out"
                               formControlName="username"
                               [ngClass]="applyCssInputError('username')"
                               [attr.maxlength]="loginMode == 'phone' ? '15' : null"
                               [mask]="loginMode === 'phone' ? '(00) 00000-0000' : null"
                               [dropSpecialCharacters]="false"
                               [style.paddingLeft]="loginMode == 'phone' ? '44px' : null"

                        />
                        <label for="username" *ngIf="loginMode == 'email'">{{'geral.loginEmail' | translate}}</label>
                        <label for="username" *ngIf="loginMode == 'phone'">{{'geral.loginPhone' | translate}}</label>
                        <label for="username" *ngIf="loginMode == 'agent'">{{'geral.loginUsername' | translate}}</label>
                    </div>
                    <app-error-msg [control]="form.get('username')" label="{{ 'geral.field' | translate }}" class="text-left"></app-error-msg>
                </div>

                <div class="form-group" [ngClass]="applyCssDivError('password')">
                    <div class="input-md">
                        <input [type]=" mostrarSenha ? 'text' : 'password' " id="password" class="form-control inverted-out" [ngClass]="applyCssInputError('password')"
                            formControlName="password" placeholder=" " (beforeinput)="onBeforeInput($event, 'password')">
                        <label for="password">{{'geral.senha' | translate}}</label>
                        <i class="fa showPassword" [ngClass]="mostrarSenha ? 'fa-eye-slash' : 'fa-eye'" (click)="toogleSenha()"></i>
                    </div>
                    <app-error-msg [control]="form.get('password')" label="{{'geral.senha' | translate}}" class="text-left"></app-error-msg>
                </div>

                <a (click)="abrirRecuperarSenha()" style="cursor: pointer" class="esqueceu-senha" *ngIf="modoClienteHabilitado">
                    {{'geral.esqueceuASenha' | translate}}
                </a>

                <button *ngIf="!btnDisabled; else btnProcessando"  type="submit" class="btn btn-custom btn-block">
                    {{'geral.entrar' | translate}}
                </button>
                <ng-template #btnProcessando>
                    <button disabled class="btn btn-custom btn-block">
                        {{'geral.processando' | translate}}...
                        <i class="fa fa-spinner fa-spin"></i>
                    </button>
                </ng-template>
            </form>

        </div>

        <div class="registrar" *ngIf="modoClienteHabilitado">
            {{'geral.naoPossuiUmaConta' | translate}}
            <a (click)="abrirCadastro()" style="cursor: pointer" class="">{{'geral.registreSe' | translate}}</a>
        </div>
    </ng-template>
</div>

<div class="modal" *ngIf="showModalTerminateSession">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-he">
                <h3 class="modal-title">{{'geral.session_alert' | translate}}</h3>
                <a class="close-modal" aria-label="Close" (click)="cancelTerminateSession()">
                    <i class="fa fa-times"></i>
                </a>
            </div>
            <div class="modal-body-custom">
                <p>{{'geral.session_alert_message' | translate}}</p>
            </div>
            <div class="modal-footer-he">
                <button type="button" class="btn btn-custom btn-block btn-terminate" (click)="handleLogin()">{{'botoes.logout_continue_login' | translate}}</button>
                <button type="button" class="btn btn-secondary btn-cancel" (click)="cancelTerminateSession()">{{'botoes.remain_active_session' | translate}}</button>
            </div>
        </div>
    </div>
</div>

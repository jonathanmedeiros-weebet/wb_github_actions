<div class="container-modal-login">
    <div class="container-login">
        <div class="header-login">
            <a type="button" class="btn-close-login" (click)="toClose()">
                <svg class="icon-hover" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <rect x="0.00195312" width="32" height="32" rx="2"/>
                    <path d="M16.0019 17.8669L12.1352 21.7336C11.8907 21.978 11.5796 22.1003 11.2019 22.1003C10.8241 22.1003 10.513 21.978 10.2685 21.7336C10.0241 21.4891 9.90186 21.178 9.90186 20.8003C9.90186 20.4225 10.0241 20.1114 10.2685 19.8669L14.1352 16.0003L10.2685 12.1669C10.0241 11.9225 9.90186 11.6114 9.90186 11.2336C9.90186 10.8558 10.0241 10.5447 10.2685 10.3003C10.513 10.0558 10.8241 9.93359 11.2019 9.93359C11.5796 9.93359 11.8907 10.0558 12.1352 10.3003L16.0019 14.1669L19.8352 10.3003C20.0796 10.0558 20.3907 9.93359 20.7685 9.93359C21.1463 9.93359 21.4574 10.0558 21.7019 10.3003C21.9685 10.5669 22.1019 10.8838 22.1019 11.2509C22.1019 11.618 21.9685 11.9234 21.7019 12.1669L17.8352 16.0003L21.7019 19.8669C21.9463 20.1114 22.0685 20.4225 22.0685 20.8003C22.0685 21.178 21.9463 21.4891 21.7019 21.7336C21.4352 22.0003 21.1187 22.1336 20.7525 22.1336C20.3863 22.1336 20.0805 22.0003 19.8352 21.7336L16.0019 17.8669Z" fill="rgba(var(--foreground-inputs-odds-rgb),0.3)" />
                </svg>
            </a>
        </div>
        <div class="body-login" [ngStyle]="{'padding-top': loginGoogle ? '10px' : '0px'}">
            <div *ngIf="isVPN; else normalView">
                <p style="margin-bottom: 30px">
                    {{ 'geral.vpn' | translate }}
                </p>
            </div>
            <ng-template #normalView>
                <div class="content-body">
                    <div class="modal-body-content" *ngIf="!isOpening">
                        <form [formGroup]="form" class="form-login" (ngSubmit)="onSubmit()" novalidate>
                            <div class="form-login">
                                    <span class="space-buttons" *ngIf="loginGoogle">{{'geral.loginGoogle' | translate}}</span>
                                <asl-google-signin-button type='standard' size='large' text='signin_with' logo_alignment='center' *ngIf="loginGoogle"></asl-google-signin-button>
                                <div class="text-line" *ngIf="loginGoogle">
                                    <span>OU</span>
                                </div>
                                <div  *ngIf="modoClienteHabilitado">
                                    <div>
                                        <div class="label-doLogin">
                                        <span>
                                            Fa√ßa login para acessar suas apostas e jogos favoritos!
                                        </span>
                                        </div>
                                        <div class="login-mode">
                                        <label *ngIf="modoClienteHabilitado" class="label-inputs">
                                            <input type="radio" formControlName="loginMode" value="phone" (change)="setLoginMode('phone')">
                                            <span class="radio-custom"></span>
                                            <span class="label-login">
                                                {{ 'geral.loginPhone' | translate }}
                                            </span>
                                        </label>
                                        <label *ngIf="modoClienteHabilitado" class="label-inputs">
                                            <input type="radio" formControlName="loginMode" value="email" (change)="setLoginMode('email')">
                                            <span class="radio-custom"></span>
                                            <span class="label-login">
                                                {{ 'geral.loginEmail' | translate }}
                                            </span>
                                        </label>
                                        <label *ngIf="modoCambistaHabilitado" class="label-inputs">
                                            <input type="radio" formControlName="loginMode" value="agent" (change)="setLoginMode('agent')">
                                            <span class="radio-custom"></span>
                                            <span class="label-login">
                                                {{ 'geral.loginUsername' | translate }}
                                            </span>
                                        </label>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <div class="input-md" >
                                        <div class="input-prefix" *ngIf="form.get('loginMode').value == 'phone'">+55 | </div>
                                        <input type="text" id="username" class="form-control inverted-out"
                                            formControlName="username"
                                            [ngClass]="applyCssInputError('username')"
                                            [attr.maxlength]="loginMode == 'phone' ? '15' : null"
                                            [mask]="loginMode === 'phone' ? '(00) 00000-0000' : null"
                                            [dropSpecialCharacters]="false"
                                            [style.paddingLeft]="loginMode == 'phone' ? '44px' : null"
                                        />
                                        <label for="username" *ngIf="loginMode == 'email'">{{'geral.loginEmail' | translate}}</label>
                                        <label for="username" *ngIf="loginMode == 'phone'">{{'geral.loginPhone' | translate}}</label>
                                        <label for="username" *ngIf="loginMode == 'agent'">{{'geral.loginUsername' | translate}}</label>
                                    </div>
                                    <app-error-msg [control]="form.get('username')" label="{{ 'geral.field' | translate }}" class="text-left"></app-error-msg>
                                </div>
                                <div [ngClass]="applyCssDivError('password')">
                                    <div class="input-md">
                                        <input [type]=" mostrarSenha ? 'text' : 'password' " id="password" class="form-control inverted-out" [ngClass]="applyCssInputError('password')"
                                            formControlName="password" placeholder=" " (beforeinput)="onBeforeInput($event, 'password')">
                                        <label for="password">{{'geral.senha' | translate}}</label>
                                        <i class="fa showPassword" [ngClass]="mostrarSenha ? 'fa-eye-slash' : 'fa-eye'" (click)="toogleSenha()"></i>
                                    </div>
                                    <app-error-msg [control]="form.get('password')" label="{{'geral.senha' | translate}}" class="text-left"></app-error-msg>
                                </div>
                                <div class="esqueceu-senha">
                                    <a (click)="abrirRecuperarSenha()" style="cursor: pointer" class="esqueceu-senha" *ngIf="modoClienteHabilitado">
                                        {{'geral.esqueceuASenha' | translate}}
                                    </a>
                                </div>
                                <div class="button-entrar">
                                    <button *ngIf="!btnDisabled; else btnProcessando"  type="submit" class="btn btn-custom btn-block">
                                        {{'geral.entrar' | translate}}
                                    </button>
                                </div>
                            </div>

                            <ng-template #btnProcessando>
                                <button disabled class="btn btn-custom btn-block">
                                    {{'geral.processando' | translate}}...
                                    <i class="fa fa-spinner fa-spin"></i>
                                </button>
                            </ng-template>
                        </form>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
    <div class="registrar" *ngIf="modoClienteHabilitado">
        {{'geral.naoPossuiUmaConta' | translate}}
        <a (click)="abrirCadastro()" style="cursor: pointer" class="">{{'geral.registreSe' | translate}}</a>
    </div>
</div>

<div class="modal" *ngIf="showModalTerminateSession">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-he">
                <h3 class="modal-title">{{'geral.session_alert' | translate}}</h3>
                <a class="close-modal" aria-label="Close" (click)="cancelTerminateSession()">
                    <i class="fa fa-times"></i>
                </a>
            </div>
            <div class="modal-body-custom">
                <p>{{'geral.session_alert_message' | translate}}</p>
            </div>
            <div class="modal-footer-he">
                <button type="button" class="btn btn-custom btn-block btn-terminate" (click)="handleLogin()">{{'botoes.logout_continue_login' | translate}}</button>
                <button type="button" class="btn btn-secondary btn-cancel" (click)="cancelTerminateSession()">{{'botoes.remain_active_session' | translate}}</button>
            </div>
        </div>
    </div>
</div>

<header [@openClose]="isOpen ? 'open' : 'closed'">
    <!-- Fixed navbar -->
    <nav class="navbar-mobile navbar navbar-expand-custom navbar-dark">
        <button class="navbar-toggler" type="button" (click)="toggleSidebar()">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="logo-mobile">
            <a class="" [routerLink]="['/esportes/futebol/jogos']">
                <img [src]="LOGO">
            </a>
        </div>

        <ng-container *ngIf="isLoggedIn; else loggedOut">
            <div class="dropdown menu-conta">
                <a (click)="getPosicaoFinanceira()" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-lg fa-user"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-right text-muted" aria-labelledby="navbarDropdown">

                    <button class="dropdown-item text-center" disabled type="button" *ngIf="!isCliente">
                        Crédito: {{posicaoFinanceira.credito | currency:'BRL':'symbol':'1.2'}}
                    </button>
                    <button class="dropdown-item text-center" disabled type="button">
                        Saldo: {{posicaoFinanceira.saldo | currency:'BRL':'symbol':'1.2'}}
                    </button>
                    <div class="dropdown-divider"></div>

                    <a class="dropdown-item" [routerLink]="['clientes/deposito']" *ngIf="!isCambista">
                        <i class="fa fa-dollar"></i> Solicitar Depósito
                    </a>

                    <a class="dropdown-item" [routerLink]="['clientes/saque']" *ngIf="!isCambista">
                        <i class="fa fa-dollar"></i> Solicitar Saque
                    </a>

                    <a class="dropdown-item" [routerLink]="['alterar-senha']" routerLinkActive="router-link-active">
                        <i class="fa fa-key"></i> Alterar senha
                    </a>

                    <a class="dropdown-item" [routerLink]="['clientes/perfil']" routerLinkActive="router-link-active"
                       *ngIf="!isCliente">
                        <i class="fa fa-user"></i> Minha Conta
                    </a>

                    <a (click)="logout()" href="#" class="dropdown-item">
                        <i class="fa fa-sign-out"></i> Sair
                    </a>

                    <div *ngIf="appMobile" class="app-version-info">
                        App Versão 2.0.{{appVersion}}
                    </div>
                </ul>
            </div>
        </ng-container>
        <ng-template #loggedOut>
            <div class="menu-conta dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Entrar
                </a>
                <ul class="dropdown-menu dropdown-menu-right text-muted" aria-labelledby="navbarDropdown">
                    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="px-4 py-3" novalidate>
                        <div class="form-group">
                            <input type="text" class="form-control" formControlName="username" [ngClass]="applyCssInputError('username')" placeholder="Usuário">
                            <app-error-msg [control]="form.get('username')" label="Usuário"></app-error-msg>

                        </div>
                        <div class="form-group" [ngClass]="applyCssDivError('password')">
                            <input type="password" class="form-control" [ngClass]="applyCssInputError('password')" formControlName="password" placeholder="Senha">
                            <app-error-msg [control]="form.get('password')" label="Senha"></app-error-msg>
                        </div>
                        <button type="submit" class="btn btn-primary">Entrar</button>
                    </form>
                     <div class="dropdown-divider"></div>
                     <a class="dropdown-item" [routerLink]="['/auth/recuperar-senha']" *ngIf="modoClienteAtivo">
                        Esqueci minha senha?
                    </a>
                    <a class="dropdown-item" [routerLink]="['/auth/cadastro']" *ngIf="modoClienteAtivo">
                        Novo aqui? Cadastre-se
                    </a>
                </ul>
            </div>
        </ng-template>
    </nav>

    <div class="menu-categories">
        <div *ngIf="aoVivoHabilitado" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/esportes/futebol/live']">
                <i class="fa fa-play"></i> Ao Vivo
            </a>
        </div>
        <div class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/esportes/futebol/jogos']">
                <svg-icon src="assets/images/soccer.svg" [svgStyle]="svgCss()"></svg-icon>
                <span>Futebol</span>
            </a>
        </div>
        <div *ngIf="basqueteHabilitado" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/esportes/basquete/eventos']">
                <svg-icon src="assets/images/basketball.svg" [svgStyle]="svgCss()"></svg-icon>
                <span>Basquete</span>
            </a>
        </div>
        <div *ngIf="combateHabilitado" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/esportes/combate/eventos']">
                <svg-icon src="assets/images/boxing.svg" [svgStyle]="svgCss()"></svg-icon>
                <span>Combate</span>
            </a>
        </div>
        <div *ngIf="esportsHabilitado" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/esportes/esports/eventos']">
                <i class="fa fa-gamepad"></i> E-Sports
            </a>
        </div>
        <div *ngIf="desafioHabilitado" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/desafios']">
                <i class="fa fa-trophy"></i> Desafio
            </a>
        </div>
        <div *ngIf="acumuladaoHabilitado" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/acumuladao/listagem']">
                <i class="fa fa-money"></i> Acumuladão
            </a>
        </div>
        <div *ngIf="loteriasHabilitado && seninhaAtiva" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/loterias/seninha']">
                <svg-icon src="assets/images/clover.svg" [svgStyle]="svgCss()"></svg-icon>
                <span>{{'seninha' | sorteioTipo}}</span>
            </a>
        </div>
        <div *ngIf="loteriasHabilitado && quininhaAtiva" class="category" routerLinkActive="active">
            <a class="" [routerLink]="['/loterias/quininha']">
                <svg-icon src="assets/images/clover.svg" [svgStyle]="svgCss()"></svg-icon>
                <span>{{'quininha' | sorteioTipo}}</span>
            </a>
        </div>

        <ng-container *ngIf="isLoggedIn; else loggedOut">
            <div class="dropdown menu-conta">
                <a (click)="getPosicaoFinanceira($event)" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-lg fa-user"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-right text-muted" aria-labelledby="navbarDropdown">

                    <button class="dropdown-item text-center" disabled type="button" *ngIf="!isCliente">
                        Crédito: {{posicaoFinanceira.credito | currency:'BRL':'symbol':'1.2'}}
                    </button>
                    <button class="dropdown-item text-center" disabled type="button">
                        Saldo: {{posicaoFinanceira.saldo | currency:'BRL':'symbol':'1.2'}}
                    </button>
                    <div class="dropdown-divider"></div>

                    <a class="dropdown-item" [routerLink]="['clientes/deposito']" *ngIf="!isCambista">
                        <i class="fa fa-dollar"></i> Solicitar Depósito
                    </a>

                    <a class="dropdown-item" [routerLink]="['clientes/saque']" *ngIf="!isCambista">
                        <i class="fa fa-dollar"></i> Solicitar Saque
                    </a>

                    <a class="dropdown-item" [routerLink]="['alterar-senha']" routerLinkActive="router-link-active">
                        <i class="fa fa-key"></i> Alterar senha
                    </a>

                    <a class="dropdown-item" [routerLink]="['clientes/perfil']" routerLinkActive="router-link-active"
                       *ngIf="isCliente">
                        <i class="fa fa-user"></i> Minha Conta
                    </a>

                    <a (click)="logout()" href="#" class="dropdown-item">
                        <i class="fa fa-sign-out"></i> Sair
                    </a>

                    <div *ngIf="appMobile" class="app-version-info">
                        App Versão 2.0.{{appVersion}}
                    </div>
                </ul>
            </div>
        </ng-container>
        <ng-template #loggedOut>
            <div class="menu-conta dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Entrar
                </a>
                <ul class="dropdown-menu dropdown-menu-right text-muted" aria-labelledby="navbarDropdown">
                    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="px-4 py-3" novalidate>
                        <div class="form-group">
                            <input type="text" class="form-control" formControlName="username" [ngClass]="applyCssInputError('username')" placeholder="Usuário">
                            <app-error-msg [control]="form.get('username')" label="Usuário"></app-error-msg>

                        </div>
                        <div class="form-group" [ngClass]="applyCssDivError('password')">
                            <input type="password" class="form-control" [ngClass]="applyCssInputError('password')" formControlName="password" placeholder="Senha">
                            <app-error-msg [control]="form.get('password')" label="Senha"></app-error-msg>
                        </div>
                        <button type="submit" class="btn btn-primary">Entrar</button>
                    </form>
                    <a class="dropdown-item" [routerLink]="['/auth/recuperar-senha']" *ngIf="modoClienteAtivo">
                        Esqueci minha senha?
                    </a>
                    <a class="dropdown-item" [routerLink]="['/auth/cadastro']" *ngIf="modoClienteAtivo">
                        Novo aqui? Cadastre-se
                    </a>
                </ul>
            </div>
        </ng-template>
    </div>
</header>

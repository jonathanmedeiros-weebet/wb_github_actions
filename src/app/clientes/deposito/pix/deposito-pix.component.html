<div id="deposito-pix">
    <form [formGroup]="form" (ngSubmit)="solicitarDeposito()" *ngIf="!pix">
        <div id="deposit-container">
            <section id="payment-method-column">
                <h3>{{'financeiro.paymentGateway' | translate}}</h3>
                <div class="options-container payment-method-options">
                    <a class="payment-method-option" [ngClass]="{'active': paymentMethodSelected === paymentMethod}" (click)="changePaymentMethodOption(paymentMethod)">
                        <div class="payment-method">
                            <i class="radio"></i>
                        </div>
                        <div class="payment-method-icon"
                            [ngStyle]="{'background-image': 'url(https://cdn.wee.bet/img/cassino/logos/' + paymentMethod + '.png)'}"
                        ></div>
                        <div>
                            <span class="payment-method-name">{{paymentMethod | formatPaymentMethod}}</span>
                        </div>
                        <i class="fa-solid fa-caret-right"></i>
                    </a>
                </div>
            </section>
            <section id="deposit-details">
                <h3>{{'deposito.depositDetails' | translate}}</h3>
                <div id="details-wrapper">
                    <div class="details-container">
                        <div class="details-text">
                            Para realizar um depósito via {{paymentMethod | formatPaymentMethod}},
                            insira o valor que deseja depositar no campo abaixo, selecione se deseja receber o bônus de
                            primeiro depósito, informe o código promocional se houver ( se estiver habilitado essa opção de bônus)
                            e clique no botão “ Depositar ”. Um QR Code será criado e aparecerá na tela para que possa
                            realizar o pagamento.
                        </div>
                        <div class="details-amount">
                            <label class="label">{{'deposito.enterAmount' | translate}}</label>
                            <input currencyMask
                                class="form-control inverted-out"
                                [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"
                                formControlName="valor">
                            <app-error-msg [control]="form.get('valor')"></app-error-msg>
                            <div class="min-amount">
                                {{'deposito.valorMinimo' | translate}} {{ valorMinDeposito | currency }}
                            </div>
                            <div class="shortcut-amounts">
                                <button type="button" class="btn" (click)="changeAmount(10)">
                                    {{10 | currency}}
                                </button>
                                <button type="button" class="btn" (click)="changeAmount(20)">
                                    {{20 | currency}}
                                </button>
                                <button type="button" class="btn" (click)="changeAmount(50)">
                                    {{50 | currency}}
                                </button>
                                <button type="button" class="btn" (click)="changeAmount(75)">
                                    {{75 | currency}}
                                </button>
                                <button type="button" class="btn" (click)="changeAmount(100)">
                                    {{100 | currency}}
                                </button>
                                <button type="button" class="btn" (click)="changeAmount(200)">
                                    {{200 | currency}}
                                </button>
                            </div>
                        </div>
                        <div class="details-bonus">
                            <h3 (click)="toggleBonusSection()">
                                <span>{{'geral.rollover' | translate}}</span>
                                <i class="fa m-0"
                                    [ngClass]="{'fa-angle-down': !droppedBonus, 'fa-angle-up': droppedBonus}"
                                ></i>
                            </h3>
                            <div id="bonus-wrapper">
                                <div class="bonus-text">
                                    {{'financeiro.desejaReceberBonusPrimeiroDeposito' | translate}}
                                    &nbsp;<a class="btn-regras-bonus" (click)="abrirRegrasBonus()">{{'rollover.bonusRules' | translate}}</a>
                                </div>
                                <div class="options-container bonus-options">
                                    <a class="bonus-option" [ngClass]="{'active':bonusOption === 'esportivo'}" (click)="changeBonusOption('esportivo')">
                                        <div class="bonus">
                                            <i class="radio"></i>
                                        </div>
                                        <div class="bonus-info bonus-type">{{'bet.sportsBetting' | translate}}</div>
                                        <div class="bonus-info bonus-amount">
                                            <span class="with-bonus">
                                                R$ 100 {{'geral.rollover' | translate}}
                                            </span>
                                        </div>
                                        <div class="bonus-info bonus-percent" [ngStyle]="{'font-size': '10px'}">100% {{'rollover.upTo' | translate}} R$100</div>
                                    </a>
                                    <a class="bonus-option" [ngClass]="{'active':bonusOption === 'cassino'}" (click)="changeBonusOption('cassino')">
                                        <div class="bonus">
                                            <i class="radio"></i>
                                        </div>
                                        <div class="bonus-info bonus-type">{{'bet.casinoBetting' | translate}}</div>
                                        <div class="bonus-info bonus-amount">
                                            <span class="with-bonus">
                                                R$ 100 {{'geral.rollover' | translate}}
                                            </span>
                                        </div>
                                        <div class="bonus-info bonus-percent" [ngStyle]="{'font-size': '10px'}">100% {{'rollover.upTo' | translate}} R$100</div>
                                    </a>
                                    <a class="bonus-option" [ngClass]="{'active':bonusOption === 'nenhum'}" (click)="changeBonusOption('nenhum')">
                                        <div class="bonus">
                                            <i class="radio"></i>
                                        </div>
                                        <div class="bonus-info bonus-type">{{'rollover.bonusForfeited' | translate}}</div>
                                        <div class="bonus-info bonus-amount">
                                            <span class="without-bonus">
                                                {{'rollover.noBonus' | translate}}
                                            </span>
                                        </div>
                                        <div class="bonus-info bonus-percent" [ngStyle]="{'font-size': '10px'}">{{'rollover.bonusWillBeForfeited' | translate}}</div>
                                    </a>
                                </div>
                                <app-error-msg [control]="form.get('bonus')"></app-error-msg>
                            </div>
                        </div>
                        <div class="details-promo-code">
                            <h3 (click)="togglePromoCodeSection()">
                                <span>{{'geral.promoCode' | translate}}</span>
                                <i class="fa m-0"
                                    [ngClass]="{'fa-angle-down': !droppedPromoCode, 'fa-angle-up': droppedPromoCode}"
                                ></i>
                            </h3>
                            <div id="promo-code-wrapper">
                                <input class="form-control inverted-out" formControlName="promoCode" [attr.placeholder]="'geral.promoCodePlaceholder' | translate">
                            </div>
                        </div>
                        <div class="details-submit">
                            <div class="form-group group-buttons">
                                <button type="submit" class="btn btn-custom btn-block" [disabled]="submitting">
                                    {{'geral.depositar' | translate}}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </form>
    <!-- <div class="row">
        <div class="col-md-6 col-sm-12">
            <div class="alert alert-success alert-dismissible" *ngIf="exibirMensagemPagamento">
                {{'deposito.seuPixFoiCreditado' | translate:{'novoSaldo': novoSaldo} }}
                <button type="button" class="btn-close close" data-dismiss="alert" aria-label="Close">
                    <span class="close-x" aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div>
    <div class="content">
        <form [formGroup]="form" (ngSubmit)="solicitarDeposito()" *ngIf="!pix">
            <app-spinner *ngIf="submitting"></app-spinner>
            <div class="row">
                <div class="col col-sm-3 deposito-pix">
                    <div class="form-group required" [ngClass]="{'text-center': isMobile}">
                        <label class="label">{{'deposito.informeOValor' | translate}}</label>
                        <input currencyMask
                            [ngClass]="{'form-control inverted-out text-left mt-3': !isMobile, 'input-valor': isMobile}"
                            [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"
                            formControlName="valor">
                        <app-error-msg [control]="form.get('valor')"></app-error-msg>
                        <span class="mt-3 d-block alerta-min">
                            {{'deposito.valorMinimo' | translate}} {{ valorMinDeposito | currency }}
                        </span>
                    </div>
                </div>
            </div>
            <div class="row mt-3" *ngIf="permitirBonusPrimeiroDeposito">
                <div class="col col-sm-6 permitirBonusPrimeiroDeposito">
                    <label class="">{{'financeiro.desejaReceberBonusPrimeiroDeposito' | translate}}</label><br>
                    <a class="btn-regras-bonus" (click)="abrirRegrasBonus()">Regras do Bônus</a>
                    <div class="buttons-container mt-3">
                        <div class="links-bonus">
                            <a *ngIf="bonusEsportivo" class="opcao-bonus" [ngClass]="{'active':opcaoBonus === 'esportivo'}" (click)="selecionarOpcaoBonus('esportivo')">
                                <div class="bonus">
                                    <i class="radio"></i>
                                </div>
                                <div class="icone-bonus">
                                    <i class="fa-solid fa-coins" style="font-size: 20px"></i>
                                </div>
                                <div>
                                    <span style="margin-left: 5px">{{'financeiro.receberBonus' | translate}}</span>
                                </div>
                            </a>
                        </div>
                        <div class="links-bonus" *ngIf="bonusCassino" >
                            <a class="opcao-bonus" [ngClass]="{'active':opcaoBonus === 'cassino'}" (click)="selecionarOpcaoBonus('cassino')">
                                <div class="bonus">
                                    <i class="radio"></i>
                                </div>
                                <div class="icone-bonus">
                                    <i class="fa-solid fa-coins" style="font-size: 20px"></i>
                                </div>
                                <div>
                                    <span style="margin-left: 5px">{{'financeiro.receberBonusCassino' | translate}}</span>
                                </div>
                            </a>
                        </div>
                        <div class="links-bonus">
                            <a  class="opcao-bonus" [ngClass]="{'active':opcaoBonus === 'nenhum'}" (click)="selecionarOpcaoBonus('nenhum')">
                                <div class="bonus">
                                    <i class="radio"></i>
                                </div>
                                <div class="icone-bonus">
                                    <i class="fa-solid fa-square-xmark" style="font-size: 20px"></i>
                                </div>
                                <div>
                                    <span style="margin-left: 5px">{{'financeiro.naoQueroBonus' | translate}}</span>
                                </div>
                            </a>
                        </div>
                    </div>
                    <app-error-msg [control]="form.get('bonus')"></app-error-msg>
                </div>
            </div>
            <div class="row">
                <div class="col col-sm-3 deposito-pix">
                    <div class="form-group group-buttons">
                        <button type="submit" class="btn btn-custom btn-block" [disabled]="submitting">
                            {{'geral.depositar' | translate}}
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div> -->
</div>
<ng-template #verificarPromocaoModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Atenção!</h4>
        <div class="action-buttons">
            <button type="button" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>
    <div class="modal-body cupom-ativo">
        <div class="mt-3">
            <div class="conteudo">
                <p>Atualmente você possui a seguinte promoção ativa:</p>
                <div class="promocao-tipo">
                    <h3>{{rolloverAtivo[0].tipo | formatarPromocao}}</h3>
                </div>
                <p>Se você optar pelo recebimento de bônus, essa será sua nova promoção: </p>
                <div class="promocao-tipo">
                    <h3>Bônus Primeiro Depósito</h3>
                </div>
                <p>
                    Após confirmação, todo seu saldo de bônus sera zerado automaticamente, e um novo rollover de "Bônus de Primeiro Depósito" será iniciado.<br>
                    Toda aposta realizada com o bônus da sua promoção atual que ainda estiver pendente será considerada inválida.
                </p>
                <div class="form-group group-buttons">
                    <button type="submit" class="btn btn-custom btn-cancelar btn-block" (click)="modal.dismiss('Cross click')">
                        Cancelar
                    </button>
                    <button type="submit" class="btn btn-custom btn-block" (click)="confirmarPromocao()">
                        Confirmar
                    </button>
                </div>
            </div>
        </div>
    </div>
</ng-template>

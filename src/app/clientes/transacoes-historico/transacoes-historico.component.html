<div id="default-content">
    <a class="btnClose hide-desktop" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
    </a>

    <div class="internal-container-out">
        <div class="content-header">
            <h2>{{'geral.history' | translate}} </h2>
        </div>

        <div class="tabs">
            <ng-container *ngFor="let tab of getTabs()">
                <a [ngClass]="{'active': tabSelected === tab.id}" (click)="changeTab(tab.id)">
                    {{ tab.label | translate }}
                </a>
            </ng-container>
        </div>

        <app-spinner *ngIf="showLoading"></app-spinner>
        <ng-container *ngIf="!showLoading">
            <div class="content-body" [ngSwitch]="tabSelected">

                <div class="table-responsive" *ngSwitchCase="'withdraws'">
                    <label class="label">
                        <span>{{'saques.solicitacoesRecentes' | translate}}</span>
                    </label>
                    <table class="table">
                        <thead>
                            <tr>
                                <th></th>
                                <th>{{'geral.detalhes' | translate}}</th>
                                <th>{{ 'geral.chavePix' | translate }}</th>
                                <th>{{'geral.status' | translate}}</th>
                                <th>{{'geral.valor' | translate}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let withdraw of withdraws">
                                <td><img src="/assets/images/debito.svg" alt="image"></td>
                                <td>{{'saques.saqueERegistrado' | translate}} {{ withdraw.data }}</td>
                                <td>{{ formatarChavePix(withdraw.chavePix, withdraw.tipoChavePix) }}</td>
                                <td>
                                {{ withdraw.status }}
                                <a class="info" *ngIf="withdraw.observacao" placement="top" [ngbPopover]="withdraw.observacao">
                                    <i class="fa fa-info"></i>
                                </a>
                                </td>
                                <td>{{ withdraw.valor | currency}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-responsive" *ngSwitchCase="'deposits'">
                    <label class="label">
                        <span>{{'deposito.depositosRecentes' | translate}}</span>
                    </label>
                    <table class="table">
                        <thead>
                            <tr>
                                <th width="10"></th>
                                <th>{{'geral.detalhes' | translate}}</th>
                                <th>{{'geral.status' | translate}}</th>
                                <th>{{'geral.valor' | translate}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let deposit of deposits">
                                <td><img src="/assets/images/credito.svg" alt="image"></td>
                                <td>{{'deposito.depositoERegistrado' | translate}} {{ deposit.data_registro }}</td>
                                <td>{{ deposit.status | depositoStatusPixPipe}}</td>
                                <td>{{ deposit.valor | currency}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </ng-container>
    </div>
</div>
